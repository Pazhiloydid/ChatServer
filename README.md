# Сервис ChatServer

## Описание функциональности
Основные функции сервиса:
- Регистрация пользователя (по логину и паролю) (`http://localhost:8080/account`)
- Аутентификация пользователя по логину и паролю с выдачей JWT (`http://localhost:8080/auth`)


### Описание работы сервиса
1) Создание нового юзера
   1) При регистрации пользователя по ручке http://localhost:8080/account, создаём юзера в таблице users
2) Поиск по логину
   1) При поиске по логину другого юзера и клине по нему - создаётся чат в таблице chats, в таблице  users - добавляем этот чат
   одному и второму юзеру
   2) ВАЖНО!! Если такой чат уже есть - то ничего не создаём. Для этого: когда мы создаём чат, мы идём в таблицу users и берём чаты у обоих юзеров
   если есть общий чат - значит такой чат уже есть и мы возвращаем его. (TODO: добавить флаги для чатов как личные и групповые
   и смотреть есть ли общий чат с флагом личный)


## TODO
1) Сообщения будут ходить по вебсокетам
2) Аунтификация в отдельном сервисе
3) Как работать с базой данных? Поднимать ли её в отдельном сервисе.
4) Вебсокеты : как работать с одной и той же сессией когда у нас нескольно нод и распределённая память. Сохранять её в редис?
5) Нотификация о собитиях (новые сообщения офлайн юзерам) через редис
6) Make real time messaging (without events with redis)
7) Link Websocket Connection to Client ID